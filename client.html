<!doctype html>
<html>
  <head><meta charset="utf-8"></head>
  <body>
    <script>
      let websock = new WebSocket('ws://localhost:8011');

      websock.onopen = function(event) {
        console.log("WebSocket is open now.");
        websock.send("Is there anybody out there?");
        websock.send("dothething");
      };

      websock.onmessage = function(msg) {
        if (msg.data instanceof Blob) {
          reader = new FileReader();
          reader.onload = () => {
            console.log("Result: " + reader.result);
          };
          reader.readAsText(msg.data);
        } else {
          console.log("Client received: ", msg.data);
        }
      };
    </script>
  </body>
</html>
